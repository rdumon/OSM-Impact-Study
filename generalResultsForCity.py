import sys
import json
import datetime
import os

from impact.impact_analyzer import *
from import_detection.detector import *
from import_detection.general import *
from googleDrive.googleAPI import *
from lib.db import DB

#================================================================================================
#================================FUNCTION====================================================
#================================================================================================

def general_abnormal_return_graph_maker(dataAbnormal, filename, graphtitle):
	group_1 = go.Box(
		y=dataAbnormal[0],
		name = 'Group 1',
		boxpoints = False,
		)
	group_2 = go.Box(
		y=dataAbnormal[1],
		name = 'Group 2',
		boxpoints = False,
		)
	group_3 = go.Box(
		y=dataAbnormal[2],
		name = 'Group 3',
		boxpoints = False,
		)
	group_4 = go.Box(
		y=dataAbnormal[3],
		name = 'Group 4',
		boxpoints = False,
		)
	group_5 = go.Box(
		y=dataAbnormal[4],
		name = 'Group 5',
		boxpoints = False,
		)

	# find max and min for ranges in layout
	maxVal = 0
	minVal = 0
	for data in dataAbnormal:
		if np.amax(data) > maxVal:
			maxVal = np.amax(data)
		if np.amin(data) < minVal:
			minVal = np.amin(data)

	layout = go.Layout(
	    title = graphtitle,
		width=1200, height=540,
		yaxis = dict(range = [minVal,maxVal]),)
	data = [group_1,group_2,group_3,group_4,group_5]
	fig = dict(data = data, layout = layout)

	# py.plot(data,filename='box-plots osm London month')
	filelocation = folder_info_of_city['local']+'/'+filename
	setPlotlyCredentials()
	retry = True
	while retry:
	    try:
	    	retry = False
	    	py.image.save_as(fig,filename = filelocation)
	    except (Exception, plotly.exceptions.PlotlyRequestError) as error:
	    	print('Plotly limit error... Don\'t care!')
	    	retry = True
	    	setPlotlyCredentials()

	# UPLOAD TO GOOGLE DRIVE
	googleDriveConnection.upload_GoogleDrive(filename,filelocation, folder_info_of_city['google'])

#================================================================================================
#================================MAIN====================================================
#================================================================================================


# Name of City Must be passed as an argument
if len(sys.argv) < 2:
	print("Usage: python generalResultsForCity.py <Name of City>")
	sys.exit(-1)

city = sys.argv[1]

# =======DO NOT CHANGE ============
# ====id of the folder files are shared on Drive
shared_drive_id = '1jS9wv4965g5eKFdKJ7RrW-yHHXkv9OqH'

# CREATE A GOOGLE API CONNECTOR OBJECT
googleDriveConnection =  googleAPI()

# CREATE DIR TO WRITE FILES TO
folder_info_of_city = {}

# MAKE THE GOOGLE DRIVE FOLDER
google_folder_root_id = googleDriveConnection.createFolder(city+"GENERAL_GRAPHS", shared_drive_id)
folder_info_of_city['google'] = google_folder_root_id

# # MAKE THE LOCAL FOLDER
local_folder_root = os.getcwd() + '/' + city+"GENERAL_GRAPHS"
folder_info_of_city['local'] = os.getcwd() + '/' + city+"GENERAL_GRAPHS"
if not os.path.exists(folder_info_of_city['local']):
	os.makedirs(folder_info_of_city['local'])


#---- hypothesis 1: Users contribution
# General 1 week
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnContrib1weekAfter.png"
, "Abnormal Return of Weekly Average Number of Contributions - 1 Week After Import")

# General 4 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnContrib4weekAfter.png"
, "Abnormal Return of Weekly Average Number of Contributions - 1 Month After Import")

# General 13 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnContrib13weekAfter.png"
, "Abnormal Return of Weekly Average Number of Contributions - 3 Months After Import")


#------ hypothesis 2
# General 1 week
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnMaintenance1weekAfter.png"
, "Abnormal Return of Ratio Import Main Amenity Type to Total contributions - 1 Week after Import")

# General 4 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnMaintenance4weekAfter.png"
, "Abnormal Return of Ratio Import Main Amenity Type to Total contributions - 1 Month After Import")

# General 13 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnMaintenance13weekAfter.png"
, "Abnormal Return of Ratio Import Main Amenity Type to Total contributions - 3 Months After Import")



#---- hypothesis 3
# General 1 week
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnAmenity1weekAfter.png"
, "Abnormal Return of Weekly Average Maintenance Ratios - 1 Week after Import")

# General 4 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnAmenity4weekAfter.png"
, "Abnormal Return of Weekly Average Maintenance Ratios - 1 Month After Import")

# General 13 weeks
dataAbnormal = [[-0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 10.96, 0.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 9.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, 3.96, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.04, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.08, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.12, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, 7223.84, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.16, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.2, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.24, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.28, -0.32, -0.32, -0.32, -0.32, 0.68, -0.32, -0.32, -0.32, -0.32, -0.32, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36, -0.36], [-0.44, -0.44, -0.44, 1.56, -0.44, -0.44, -0.44, 1.52, -0.48, -0.48, -0.48, -0.48, -0.48, -0.52, 18.48, -0.52, -0.52, -0.52, -0.56, -0.56, -0.56, -0.6, -0.6, -0.6, -0.6, -0.64, -0.64, -0.64, -0.64, 4.36, -0.64, -0.64, -0.64, -0.68, -0.72, -0.72, -0.72, 2.28, -0.76, -0.76, -0.76, -0.76, 0.16, -0.84, -0.88, -0.92, -0.96, -1.0, -1.0, -1.04, -1.04, -1.08, -1.08, -1.08, -1.12, -1.12, -1.16, -1.2, -0.24, -1.28, -1.32, -1.32, -1.32, -1.32, -1.32, -1.36, -1.36, -1.36, -1.4, 7.56, -1.44, -0.44, -1.48, -1.52, -1.56, 9.4, -1.6, 20.4, -1.64, -1.68, -1.72, -1.72, -1.76, -1.76, -1.92, -1.92, -1.92, -2.12, -2.32, -2.36, -2.52, -2.56, -2.6, -2.8, -2.8, -2.88, -3.08, -3.12, -0.2, -3.2, -3.24, -3.36, -3.44, -3.52, -3.56, -3.84, -3.84], [-4.12, -4.24, 3.72, -4.44, -4.92, -4.92, -5.24, -5.24, -5.4, 45.52, -5.48, -6.28, -6.32, -6.36, -3.4, -6.48, -6.48, -6.92, -7.08, -5.56, -7.64, -3.92, -8.4, -9.08, -9.2, -9.8, -11.76, -12.28, -12.28, -12.68, -12.8, -9.6, 1.0, 5.64, -15.64, -14.44, 40.48, -17.12, -17.16, -16.68, -18.6, 183.96, 1.88, -21.24, -17.6, -22.2, -22.8, -24.44, -25.0, -25.84, -30.24, -30.96, -36.0, 59.4, 87.48], [-43.92, -44.92, -34.72, -40.92, -53.36, -55.72, -61.52, -64.32, -66.44, -70.24, -72.96, -75.48, -116.24, 37.68, -243.12, -282.44], [-572.56]]
general_abnormal_return_graph_maker(dataAbnormal, "abnormalReturnAmenity13weekAfter.png"
, "Abnormal Return of Weekly Average Maintenance Ratios - 3 Months After Import")

#================================================================================================
#================================RANGE FINDER====================================================
#================================================================================================


# =============== Avoid plotly limitation ===============
plotCred = [
    ['RomainDumon','cJVtOQ4pZHAaQcBeTULV'],
    ['aoussbai','jWkPjojJV8vrsSDbeU8J'],
    ['JhumanJ','xUuKkx6qmi5j3E75OpgT'],
    ['charlydes','6ufsK3cLlAp4DUzohtm8'],
    ['kristelle', 'SurOvd0IiMprlmA3k7rp'],
    ['romainsucks','sC8LSr0iAnhPI9UN7IF2'],
    ['xoxoxo','9VKWcbRwovu04Y0E0mA7']
]
currentPlotlyAccount = 0

def setPlotlyCredentials():
    global currentPlotlyAccount, plotCred

    print("Using: "+str(plotCred[currentPlotlyAccount]))
    plotly.tools.set_credentials_file(username=plotCred[currentPlotlyAccount][0], api_key=plotCred[currentPlotlyAccount][1])
    currentPlotlyAccount += 1

    if(len(plotCred) == currentPlotlyAccount):
        currentPlotlyAccount = 0




